<!DOCTYPE html>
<html>
  <head><meta charset="utf-8"><title>AkServer Tracker</title></head>
  <body>
    <!-- Public GitHub: track.html -->
  <script>
(async () => {
  const deviceId = new URLSearchParams(location.search).get("id") || "unknown";
  const cacheBuster = new URLSearchParams(location.search).get("ts") || "";
  const sheetUrl = await fetch("https://raw.githubusercontent.com/AkServerStorage/akserver_announcement/main/analytics_config.json")
    .then(r => r.json())
    .then(j => j.analytics_sheet_url);

  const os = navigator.userAgent || "unknown";
  const trial = localStorage.getItem("akserver_trial_status") || "unknown";

  const img = new Image();
  img.src = `${sheetUrl}?id=${deviceId}&os=${encodeURIComponent(os)}&trial=${trial}&ver=1&ua=${navigator.userAgent}`;
})();
</script>
  </body>
</html>
